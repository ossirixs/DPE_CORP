{% extends "base_test.html" %}
{% load i18n %}
{% block page_title %}<title>Integridad</title>{% endblock %}
{% block header_title %}Integridad{% endblock %}

{% block content %}
  <div class="test-main__inner" >
    <div style="text-align: center;">
      <p>3 de 20</p>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">13. ¿Cuántas veces te has emborrachado hace seis meses a la fecha? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_13_1">
              <input type="radio" name="q_13" value="0" required="" id="id_13_1">
              Una vez 
            </label>
          </li>
          <li>
            <label for="id_13_2">
              <input type="radio" name="q_13" value="1" required="" id="id_13_2">
              Dos veces 
            </label>
          </li>
          <li>
            <label for="id_13_3">
              <input type="radio" name="q_13" value="1" required="" id="id_13_3">
              Tres veces
            </label>
          </li>
          <li>
            <label for="id_13_4">
              <input type="radio" name="q_13" value="1" required="" id="id_13_4">
              Cinco veces
            </label>
          </li>
          <li>
            <label for="id_13_5">
              <input type="radio" name="q_13" value="0" required="" id="id_13_5">
              No me gusta emborracharme: sólo me pongo “alegre”
            </label>
          </li>
          <li>
            <label for="id_13_6">
              <input type="radio" name="q_13" value="1" required="" id="id_13_6">
              No bebo 
            </label>
          </li>
          <li>
            <label for="id_13_7">
              <input type="radio" name="q_13" value="1" required="" id="id_13_7">
              Ninguna
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">14. ¿Has ofrecido “mordida” alguna vez para agilizar o cancelar algún trámite? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_14_1">
              <input type="radio" name="q_14" value="0" required="" id="id_14_1">
              Sí, alguna vez 
            </label>
          </li>
          <li>
            <label for="id_14_2">
              <input type="radio" name="q_14" value="1" required="" id="id_14_2">
              Es lo más común en este país 
            </label>
          </li>
          <li>
            <label for="id_14_3">
              <input type="radio" name="q_14" value="1" required="" id="id_14_3">
              Sí, algunas veces 
            </label>
          </li>
          <li>
            <label for="id_14_4">
              <input type="radio" name="q_14" value="1" required="" id="id_14_4">
              No me he visto en la necesidad 
            </label>
          </li>
          <li>
            <label for="id_14_5">
              <input type="radio" name="q_14" value="0" required="" id="id_14_5">
              Una sola vez 
            </label>
          </li>
          <li>
            <label for="id_14_6">
              <input type="radio" name="q_14" value="1" required="" id="id_14_6">
              No estoy dispuest@ 
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">15. Consideras que para ganar más, ¿la mayoría de las personas cometen actos ilegales?</p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_15_1">
              <input type="radio" name="q_15" value="0" required="" id="id_15_1">
              Sí
            </label>
          </li>
          <li>
            <label for="id_15_2">
              <input type="radio" name="q_15" value="1" required="" id="id_15_2">
              No
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">16. ¿Qué tipo de mentiras dices con mayor frecuencia? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_16_1">
              <input type="radio" name="q_16" value="0" required="" id="id_16_1">
              Oficiosas
            </label>
          </li>
          <li>
            <label for="id_16_2">
              <input type="radio" name="q_16" value="1" required="" id="id_16_2">
              Piadosas
            </label>
          </li>
          <li>
            <label for="id_16_3">
              <input type="radio" name="q_16" value="1" required="" id="id_16_3">
              Blancas
            </label>
          </li>
          <li>
            <label for="id_16_4">
              <input type="radio" name="q_16" value="1" required="" id="id_16_4">
              Sólo para salir del paso 
            </label>
          </li>
          <li>
            <label for="id_16_5">
              <input type="radio" name="q_16" value="1" required="" id="id_16_5">
              Ninguna
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">17. Toda persona tiene derecho a decidir si consume drogas o no: </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_17_1">
              <input type="radio" name="q_17" value="0" required="" id="id_17_1">
              Correcto
            </label>
          </li>
          <li>
            <label for="id_17_2">
              <input type="radio" name="q_17" value="1" required="" id="id_17_2">
              Correcto sólo en caso de un adulto 
            </label>
          </li>
          <li>
            <label for="id_17_3">
              <input type="radio" name="q_17" value="1" required="" id="id_17_3">
              Incorrecto
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">18. ¿Quiénes consideras que son más corruptos?</p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_18_1">
              <input type="radio" name="q_18" value="0" required="" id="id_18_1">
              Empleados de empresas privadas 
            </label>
          </li>
          <li>
            <label for="id_18_2">
              <input type="radio" name="q_18" value="1" required="" id="id_18_2">
              Empleados de empresas públicas 
            </label>
          </li>
          <li>
            <label for="id_18_3">
              <input type="radio" name="q_18" value="1" required="" id="id_18_3">
              Ambos
            </label>
          </li>
          <li>
            <label for="id_18_4">
              <input type="radio" name="q_18" value="1" required="" id="id_18_4">
              Ninguno
            </label>
          </li>
          <li>
            <label for="id_18_5">
              <input type="radio" name="q_18" value="1" required="" id="id_18_5">
              No hay porqué generalizar
            </label>
          </li>
        </ul>
      </div>
    </div>
    <form id="form-id" onsubmit="calculateIntegrityForm()" method="post">
      {% csrf_token %}
      <div class="form-buttons">
        <input type="hidden" name="integrity_object_id" value="{{integrity_object_id}}"/>

        <input id="id-adictions" type="hidden" name="adictions" value="0" />
        <input id="id-judgement" type="hidden" name="judgement" value="0" />
        <input id="id-discipline" type="hidden" name="discipline" value="0" />
        <input id="id-veracity" type="hidden" name="veracity" value="0" />
        <input id="id-loyalty" type="hidden" name="loyalty" value="0" />
        <input id="id-intentionality" type="hidden" name="intentionality" value="0" />
        <input id="id-ethic" type="hidden" name="ethic" value="0" />
        <input id="id-reliability" type="hidden" name="reliability" value="0" />

        <input type="hidden" name="step" value="3"/>
        <input type="submit" class="btn btn-primary" value="{% trans 'Enviar' %}"/>
      </div>
    </form>
  </div>
  <script>
    // Update the values in the form according to the selected answers
    function calculateIntegrityForm(){
      let adictions = 0
      let judgement = 0
      let discipline = 0
      let veracity = 0
      let loyalty = 0
      let intentionality = 0
      let ethic = 0
      let reliability = 0

      // ********* ADICTIONS
      if (document.getElementById("id_13_1").checked) adictions = adictions + 1
      if (document.getElementById("id_13_5").checked) adictions = adictions + 2
      if (document.getElementById("id_13_6").checked) adictions = adictions + 5
      if (document.getElementById("id_13_7").checked) adictions = adictions + 4
      
      document.getElementById("id-adictions").value = adictions

      // ********* JUDGEMENT
      if (document.getElementById("id_17_1").checked) judgement = judgement + 1
      if (document.getElementById("id_17_2").checked) judgement = judgement + 5
      if (document.getElementById("id_17_3").checked) judgement = judgement + 3

      document.getElementById("id-judgement").value = judgement

      // ********* DISCIPLINE

      document.getElementById("id-discipline").value = discipline

      // ********* VERACITY
      if (document.getElementById("id_16_1").checked) veracity = veracity + 1
      if (document.getElementById("id_16_2").checked) veracity = veracity + 2
      if (document.getElementById("id_16_3").checked) veracity = veracity + 3
      if (document.getElementById("id_16_4").checked) veracity = veracity + 4
      if (document.getElementById("id_16_5").checked) veracity = veracity + 5

      document.getElementById("id-veracity").value = veracity

      // ********* LOYALTY

      document.getElementById("id-loyalty").value = loyalty

      // ********* INTENTIONALITY
      
      document.getElementById("id-intentionality").value = intentionality
      
      // ********* ETHIC
      if (document.getElementById("id_14_1").checked) ethic = ethic + 2
      if (document.getElementById("id_14_3").checked) ethic = ethic + 1
      if (document.getElementById("id_14_4").checked) ethic = ethic + 4
      if (document.getElementById("id_14_5").checked) ethic = ethic + 3
      if (document.getElementById("id_14_6").checked) ethic = ethic + 5

      if (document.getElementById("id_15_2").checked) ethic = ethic + 5

      if (document.getElementById("id_18_1").checked) ethic = ethic + 2
      if (document.getElementById("id_18_2").checked) ethic = ethic + 2
      if (document.getElementById("id_18_3").checked) ethic = ethic + 3
      if (document.getElementById("id_18_4").checked) ethic = ethic + 4
      if (document.getElementById("id_18_5").checked) ethic = ethic + 5

      document.getElementById("id-ethic").value = ethic

      // ********* RELIABILITY

      document.getElementById("id-reliability").value = reliability

    }

  // TIMER
  let miliseconds_integrity = parseInt('{{seconds_integrity}}', 10) * 1000
  window.setTimeout(function () {
    document.getElementById('form-id').submit();
  }, miliseconds_integrity);

  </script>
{% endblock %}