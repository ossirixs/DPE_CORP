{% extends "base_test.html" %}
{% load i18n %}
{% block page_title %}<title>Integridad</title>{% endblock %}
{% block header_title %}Integridad{% endblock %}

{% block content %}
  <div class="test-main__inner" >
    <div style="text-align: center;">
      <p>1 de 20</p>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">1. Juventino ha venido tomando hace tres meses el doble de la dosis que le recetó el médico de un relajante muscular, para llevarse más leve el día. </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_1_1">
              <input type="radio" name="q_1" value="0" required="" id="id_1_1">
              Yo haría lo mismo
            </label>
          </li>
          <li>
            <label for="id_1_2">
              <input type="radio" name="q_1" value="1" required="" id="id_1_2">
              Yo he hecho lo mismo pero con una medicina que conozco
            </label>
          </li>
          <li>
            <label for="id_1_3">
              <input type="radio" name="q_1" value="1" required="" id="id_1_3">
              Yo seguiría tal cual lo que dice la receta 
            </label>
          </li>
          <li>
            <label for="id_1_4">
              <input type="radio" name="q_1" value="1" required="" id="id_1_4">
              Los relajantes musculares son dañinos para la salud
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">2. ¿Consideras que conviene dar un trabajo a una persona profesional, aun cuando no sea de confianza? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_2_1">
              <input type="radio" name="q_2" value="0" required="" id="id_2_1">
              Si
            </label>
          </li>
          <li>
            <label for="id_2_2">
              <input type="radio" name="q_2" value="1" required="" id="id_2_2">
              No
            </label>
          </li>
          <li>
            <label for="id_2_3">
              <input type="radio" name="q_2" value="1" required="" id="id_2_3">
              Depende del puesto
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">3. ¿Cuál es el monto robado por un empleado que justifique su despido? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_3_1">
              <input type="radio" name="q_3" value="0" required="" id="id_3_1">
              $200
            </label>
          </li>
          <li>
            <label for="id_3_2">
              <input type="radio" name="q_3" value="1" required="" id="id_3_2">
              $300
            </label>
          </li>
          <li>
            <label for="id_3_3">
              <input type="radio" name="q_3" value="1" required="" id="id_3_3">
              $1,000
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">4. ¿Fumas? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_4_1">
              <input type="radio" name="q_4" value="0" required="" id="id_4_1">
              Si
            </label>
          </li>
          <li>
            <label for="id_4_2">
              <input type="radio" name="q_4" value="1" required="" id="id_4_2">
              No
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">5. Desde que entró a trabajar hace diez años, cada día de pago Rosa compra 15% de su quincena de “Bingo” o de Lotería, según lo que haya de premio. Lo que hace Rosa puede considerarse:</p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_5_1">
              <input type="radio" name="q_5" value="0" required="" id="id_5_1">
              Una buena costumbre
            </label>
          </li>
          <li>
            <label for="id_5_2">
              <input type="radio" name="q_5" value="1" required="" id="id_5_2">
              Una ayuda al gasto familiar
            </label>
          </li>
          <li>
            <label for="id_5_3">
              <input type="radio" name="q_5" value="1" required="" id="id_5_3">
              Una fuga de dinero 
            </label>
          </li>
          <li>
            <label for="id_5_4">
              <input type="radio" name="q_5" value="1" required="" id="id_5_4">
              Un ejemplo a seguir
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">6. Distribuir en el trabajo volantes de algún candidato político del partido de nuestra preferencia se considera. </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_6_1">
              <input type="radio" name="q_6" value="0" required="" id="id_6_1">
              Correcto
            </label>
          </li>
          <li>
            <label for="id_6_2">
              <input type="radio" name="q_6" value="1" required="" id="id_6_2">
              Incorrecto
            </label>
          </li>
          <li>
            <label for="id_6_3">
              <input type="radio" name="q_6" value="1" required="" id="id_6_3">
              No sé
            </label>
          </li>
        </ul>
      </div>
    </div>
    <form id="form-id" onsubmit="calculateIntegrityForm()" method="post">
      {% csrf_token %}
      <div class="form-buttons">
        <input type="hidden" name="integrity_object_id" value="{{integrity_object_id}}"/>

        <input id="id-adictions" type="hidden" name="adictions" value="0" />
        <input id="id-judgement" type="hidden" name="judgement" value="0" />
        <input id="id-discipline" type="hidden" name="discipline" value="0" />
        <input id="id-veracity" type="hidden" name="veracity" value="0" />
        <input id="id-loyalty" type="hidden" name="loyalty" value="0" />
        <input id="id-intentionality" type="hidden" name="intentionality" value="0" />
        <input id="id-ethic" type="hidden" name="ethic" value="0" />
        <input id="id-reliability" type="hidden" name="reliability" value="0" />

        <input type="hidden" name="step" value="1"/>
        <input type="submit" class="btn btn-primary" value="{% trans 'Enviar' %}"/>
      </div>
    </form>
  </div>
  <script>
    // Update the values in the form according to the selected answers
    function calculateIntegrityForm(){
      let adictions = 0
      let judgement = 0
      let discipline = 0
      let veracity = 0
      let loyalty = 0
      let intentionality = 0
      let ethic = 0
      let reliability = 0

      // adictions
      if (document.getElementById("id_1_3").checked) adictions = adictions + 5
      if (document.getElementById("id_4_1").checked) adictions = adictions + 1
      if (document.getElementById("id_4_2").checked) adictions = adictions + 5
      
      document.getElementById("id-adictions").value = adictions

      // judgement
      document.getElementById("id-judgement").value = judgement

      // discipline
      if (document.getElementById("id_6_2").checked) discipline = discipline + 5

      document.getElementById("id-discipline").value = discipline

      // veracity
      document.getElementById("id-veracity").value = veracity

      // loyalty
      if (document.getElementById("id_2_1").checked || document.getElementById("id_2_2").checked || document.getElementById("id_2_3").checked ) loyalty = loyalty + 5

      document.getElementById("id-loyalty").value = loyalty

      // intentionality
      if (document.getElementById("id_3_1").checked || document.getElementById("id_3_2").checked || document.getElementById("id_3_3").checked ) intentionality = intentionality + 5

      document.getElementById("id-intentionality").value = intentionality

      // ethic
      document.getElementById("id-ethic").value = ethic

      // reliability
      if (document.getElementById("id_5_3").checked) reliability = reliability + 5

      document.getElementById("id-reliability").value = reliability

    }

    // TIMER
    let miliseconds_integrity = parseInt('{{seconds_integrity}}', 10) * 1000
    window.setTimeout(function () {
      document.getElementById('form-id').submit();
    }, miliseconds_integrity);

  </script>
{% endblock %}