{% extends "base_test.html" %}
{% load i18n %}
{% block page_title %}<title>Integridad</title>{% endblock %}
{% block header_title %}Integridad{% endblock %}

{% block content %}
  <div class="test-main__inner" >
    <div style="text-align: center;">
      <p>8 de 20</p>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">43. Pasarse el semáforo con la luz roja o darse una vuelta en “U”, o darle una propina a un oficial es violar la ley: </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_43_1">
              <input type="radio" name="q_43" value="0" required="" id="id_43_1">
              Si
            </label>
          </li>
          <li>
            <label for="id_43_2">
              <input type="radio" name="q_43" value="1" required="" id="id_43_2">
              No
            </label>
          </li>
          <li>
            <label for="id_43_3">
              <input type="radio" name="q_43" value="1" required="" id="id_43_3">
              No sé
            </label>
          </li>
          <li>
            <label for="id_43_4">
              <input type="radio" name="q_43" value="1" required="" id="id_43_4">
              No hay que exagerar
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">44. ¿Has recibido dinero u objetos de otro empleado para que no lo denunciaras por alguna falta que él cometió?  </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_44_1">
              <input type="radio" name="q_44" value="0" required="" id="id_44_1">
              Sí, a veces
            </label>
          </li>
          <li>
            <label for="id_44_2">
              <input type="radio" name="q_44" value="1" required="" id="id_44_2">
              Sí, una vez
            </label>
          </li>
          <li>
            <label for="id_44_3">
              <input type="radio" name="q_44" value="1" required="" id="id_44_3">
              No
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">45. ¿Cuántas veces en los últimos 6 meses has excedido el límite de velocidad al manejar? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_45_1">
              <input type="radio" name="q_45" value="0" required="" id="id_45_1">
              No manejo
            </label>
          </li>
          <li>
            <label for="id_45_2">
              <input type="radio" name="q_45" value="1" required="" id="id_45_2">
              Una vez
            </label>
          </li>
          <li>
            <label for="id_45_3">
              <input type="radio" name="q_45" value="1" required="" id="id_45_3">
              Más de tres veces
            </label>
          </li>
          <li>
            <label for="id_45_4">
              <input type="radio" name="q_45" value="1" required="" id="id_45_4">
              En la ciudad no hay límite de velocidad 
            </label>
          </li>
          <li>
            <label for="id_45_5">
              <input type="radio" name="q_45" value="1" required="" id="id_45_5">
              Nunca he excedido el límite de velocidad
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">46. El vendedor de un auto usado siempre ocultará los defectos del coche para poder venderlo: </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_46_1">
              <input type="radio" name="q_46" value="0" required="" id="id_46_1">
              Siempre correcto 
            </label>
          </li>
          <li>
            <label for="id_46_2">
              <input type="radio" name="q_46" value="1" required="" id="id_46_2">
              Correcto en la gran mayoría de los casos 
            </label>
          </li>
          <li>
            <label for="id_46_3">
              <input type="radio" name="q_46" value="1" required="" id="id_46_3">
              A veces correcto 
            </label>
          </li>
          <li>
            <label for="id_46_4">
              <input type="radio" name="q_46" value="1" required="" id="id_46_4">
              Incorrecto
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">47. ¿Cuál es la máxima cantidad que has apostado últimamente? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_47_1">
              <input type="radio" name="q_47" value="0" required="" id="id_47_1">
              Menos de $100
            </label>
          </li>
          <li>
            <label for="id_47_2">
              <input type="radio" name="q_47" value="1" required="" id="id_47_2">
              Entre $100 y $500 
            </label>
          </li>
          <li>
            <label for="id_47_3">
              <input type="radio" name="q_47" value="1" required="" id="id_47_3">
              Más de $1000
            </label>
          </li>
          <li>
            <label for="id_47_4">
              <input type="radio" name="q_47" value="1" required="" id="id_47_4">
              No he apostado
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">48. ¿Qué crees que afecte más a una persona? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_48_1">
              <input type="radio" name="q_48" value="0" required="" id="id_48_1">
              Comer en exceso
            </label>
          </li>
          <li>
            <label for="id_48_2">
              <input type="radio" name="q_48" value="1" required="" id="id_48_2">
              Fumar 3 cigarros diarios
            </label>
          </li>
          <li>
            <label for="id_48_3">
              <input type="radio" name="q_48" value="1" required="" id="id_48_3">
              Tomar 2 ó 3 cubas o bebida alcholica en la comida 
            </label>
          </li>
          <li>
            <label for="id_48_4">
              <input type="radio" name="q_48" value="1" required="" id="id_48_4">
              Ninguna de las tres
            </label>
          </li>
        </ul>
      </div>
    </div>
    <form id="form-id" onsubmit="calculateIntegrityForm()" method="post">
      {% csrf_token %}
      <div class="form-buttons">
        <input type="hidden" name="integrity_object_id" value="{{integrity_object_id}}"/>

        <input id="id-adictions" type="hidden" name="adictions" value="0" />
        <input id="id-judgement" type="hidden" name="judgement" value="0" />
        <input id="id-discipline" type="hidden" name="discipline" value="0" />
        <input id="id-veracity" type="hidden" name="veracity" value="0" />
        <input id="id-loyalty" type="hidden" name="loyalty" value="0" />
        <input id="id-intentionality" type="hidden" name="intentionality" value="0" />
        <input id="id-ethic" type="hidden" name="ethic" value="0" />
        <input id="id-reliability" type="hidden" name="reliability" value="0" />

        <input type="hidden" name="step" value="8"/>
        <input type="submit" class="btn btn-primary" value="{% trans 'Enviar' %}"/>
      </div>
    </form>
  </div>
  <script>
    // Update the values in the form according to the selected answers
    function calculateIntegrityForm(){
      let adictions = 0
      let judgement = 0
      let discipline = 0
      let veracity = 0
      let loyalty = 0
      let intentionality = 0
      let ethic = 0
      let reliability = 0

      // ********* ADICTIONS
      if (document.getElementById("id_48_1").checked) adictions = adictions + 3
      if (document.getElementById("id_48_2").checked) adictions = adictions + 3
      if (document.getElementById("id_48_3").checked) adictions = adictions + 3
      
      document.getElementById("id-adictions").value = adictions

      // ********* JUDGEMENT

      document.getElementById("id-judgement").value = judgement

      // ********* DISCIPLINE
      if (document.getElementById("id_45_1").checked) discipline = discipline + 5
      if (document.getElementById("id_45_2").checked) discipline = discipline + 5
      if (document.getElementById("id_45_3").checked) discipline = discipline + 3

      document.getElementById("id-discipline").value = discipline

      // ********* VERACITY
      if (document.getElementById("id_44_3").checked) veracity = veracity + 5

      if (document.getElementById("id_45_1").checked) veracity = veracity + 5
      if (document.getElementById("id_45_2").checked) veracity = veracity + 5
      if (document.getElementById("id_45_3").checked) veracity = veracity + 3

      if (document.getElementById("id_46_2").checked) veracity = veracity + 3
      if (document.getElementById("id_46_3").checked) veracity = veracity + 5
      if (document.getElementById("id_46_4").checked) veracity = veracity + 5

      document.getElementById("id-veracity").value = veracity

      // ********* LOYALTY

      document.getElementById("id-loyalty").value = loyalty

      // ********* INTENTIONALITY
      if (document.getElementById("id_44_3").checked) intentionality = intentionality + 5

      if (document.getElementById("id_47_1").checked) intentionality = intentionality + 3
      if (document.getElementById("id_47_4").checked) intentionality = intentionality + 5
      
      document.getElementById("id-intentionality").value = intentionality
      
      // ********* ETHIC
      if (document.getElementById("id_43_1").checked) ethic = ethic + 5

      if (document.getElementById("id_46_2").checked) ethic = ethic + 3
      if (document.getElementById("id_46_3").checked) ethic = ethic + 5
      if (document.getElementById("id_46_4").checked) ethic = ethic + 5

      document.getElementById("id-ethic").value = ethic

      // ********* RELIABILITY

      document.getElementById("id-reliability").value = reliability

    }


    // TIMER
    let miliseconds_integrity = parseInt('{{seconds_integrity}}', 10) * 1000
    window.setTimeout(function () {
      document.getElementById('form-id').submit();
    }, miliseconds_integrity);
    
  </script>
{% endblock %}