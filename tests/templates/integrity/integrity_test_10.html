{% extends "base_test.html" %}
{% load i18n %}
{% block page_title %}<title>Integridad</title>{% endblock %}
{% block header_title %}Integridad{% endblock %}

{% block content %}
  <div class="test-main__inner" >
    <div style="text-align: center;">
      <p>10 de 20</p>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">55. ¿Cuántas veces has estado detenido?  </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_55_1">
              <input type="radio" name="q_55" value="0" required="" id="id_55_1">
              Una vez
            </label>
          </li>
          <li>
            <label for="id_55_2">
              <input type="radio" name="q_55" value="1" required="" id="id_55_2">
              Dos veces
            </label>
          </li>
          <li>
            <label for="id_55_3">
              <input type="radio" name="q_55" value="1" required="" id="id_55_3">
              Más de dos veces
            </label>
          </li>
          <li>
            <label for="id_55_4">
              <input type="radio" name="q_55" value="1" required="" id="id_55_4">
              Nunca he estado detenido
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">56. Consideras que los empleados aprovechan las horas de trabajo para arreglar sus asuntos personales: </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_56_1">
              <input type="radio" name="q_56" value="0" required="" id="id_56_1">
              Sí, la gran mayoría
            </label>
          </li>
          <li>
            <label for="id_56_2">
              <input type="radio" name="q_56" value="1" required="" id="id_56_2">
              Es lo más común
            </label>
          </li>
          <li>
            <label for="id_56_3">
              <input type="radio" name="q_56" value="1" required="" id="id_56_3">
              Unos cuantos lo hacen  
            </label>
          </li>
          <li>
            <label for="id_56_4">
              <input type="radio" name="q_56" value="1" required="" id="id_56_4">
              Muy pocos lo hacen
            </label>
          </li>
          <li>
            <label for="id_56_5">
              <input type="radio" name="q_56" value="1" required="" id="id_56_5">
              No lo hacen
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">57. ¿Cuántas veces has ido a un casino o al hipódromo en los dos últimos años? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_57_1">
              <input type="radio" name="q_57" value="0" required="" id="id_57_1">
              No he ido
            </label>
          </li>
          <li>
            <label for="id_57_2">
              <input type="radio" name="q_57" value="1" required="" id="id_57_2">
              Dos veces 
            </label>
          </li>
          <li>
            <label for="id_57_3">
              <input type="radio" name="q_57" value="1" required="" id="id_57_3">
              Una vez 
            </label>
          </li>
          <li>
            <label for="id_57_4">
              <input type="radio" name="q_57" value="1" required="" id="id_57_4">
              Varias veces
            </label>
          </li>
          <li>
            <label for="id_57_5">
              <input type="radio" name="q_57" value="1" required="" id="id_57_5">
              Nunca he ido
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">58. ¿Te parece que hay que abstenerse de contratar a un empleado que fue despedido anteriormente por haber robado?</p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_58_1">
              <input type="radio" name="q_58" value="0" required="" id="id_58_1">
              Sí, sólo si sucedió más de una vez 
            </label>
          </li>
          <li>
            <label for="id_58_2">
              <input type="radio" name="q_58" value="1" required="" id="id_58_2">
              No
            </label>
          </li>
          <li>
            <label for="id_58_3">
              <input type="radio" name="q_58" value="1" required="" id="id_58_3">
              Sí
            </label>
          </li>
          <li>
            <label for="id_58_4">
              <input type="radio" name="q_58" value="1" required="" id="id_58_4">
              Depende
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">59. ¿Te parece que el consumo de cualquier droga puede influir sobre el rendimiento en el trabajo? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_59_1">
              <input type="radio" name="q_59" value="0" required="" id="id_59_1">
              Sí
            </label>
          </li>
          <li>
            <label for="id_59_2">
              <input type="radio" name="q_59" value="1" required="" id="id_59_2">
              No
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">60. Cuando vas a la cantina, ¿juegas a los dados o a las cartas? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_60_1">
              <input type="radio" name="q_60" value="0" required="" id="id_60_1">
              No, sólo bebo
            </label>
          </li>
          <li>
            <label for="id_60_2">
              <input type="radio" name="q_60" value="1" required="" id="id_60_2">
              No, sólo botaneo 
            </label>
          </li>
          <li>
            <label for="id_60_3">
              <input type="radio" name="q_60" value="1" required="" id="id_60_3">
              Sí, pero sin apostar 
            </label>
          </li>
          <li>
            <label for="id_60_4">
              <input type="radio" name="q_60" value="1" required="" id="id_60_4">
              Sí, para aprender
            </label>
          </li>
          <li>
            <label for="id_60_5">
              <input type="radio" name="q_60" value="1" required="" id="id_60_5">
              No conozco alguna cantina
            </label>
          </li>
          <li>
            <label for="id_60_6">
              <input type="radio" name="q_60" value="1" required="" id="id_60_6">
              No me llama la atención el juego
            </label>
          </li>
        </ul>
      </div>
    </div>
    <form id="form-id" onsubmit="calculateIntegrityForm()" method="post">
      {% csrf_token %}
      <div class="form-buttons">
        <input type="hidden" name="integrity_object_id" value="{{integrity_object_id}}"/>

        <input id="id-adictions" type="hidden" name="adictions" value="0" />
        <input id="id-judgement" type="hidden" name="judgement" value="0" />
        <input id="id-discipline" type="hidden" name="discipline" value="0" />
        <input id="id-veracity" type="hidden" name="veracity" value="0" />
        <input id="id-loyalty" type="hidden" name="loyalty" value="0" />
        <input id="id-intentionality" type="hidden" name="intentionality" value="0" />
        <input id="id-ethic" type="hidden" name="ethic" value="0" />
        <input id="id-reliability" type="hidden" name="reliability" value="0" />

        <input type="hidden" name="step" value="10"/>
        <input type="submit" class="btn btn-primary" value="{% trans 'Enviar' %}"/>
      </div>
    </form>
  </div>
  <script>
    // Update the values in the form according to the selected answers
    function calculateIntegrityForm(){
      let adictions = 0
      let judgement = 0
      let discipline = 0
      let veracity = 0
      let loyalty = 0
      let intentionality = 0
      let ethic = 0
      let reliability = 0

      // ********* ADICTIONS
      if (document.getElementById("id_59_1").checked) adictions = adictions + 5

      if (document.getElementById("id_60_2").checked) adictions = adictions + 3
      if (document.getElementById("id_60_3").checked) adictions = adictions + 1
      if (document.getElementById("id_60_4").checked) adictions = adictions + 2
      if (document.getElementById("id_60_6").checked) adictions = adictions + 5
      
      document.getElementById("id-adictions").value = adictions

      // ********* JUDGEMENT
      if (document.getElementById("id_58_1").checked) judgement = judgement + 3
      if (document.getElementById("id_58_2").checked) judgement = judgement + 1
      if (document.getElementById("id_58_3").checked) judgement = judgement + 5
      if (document.getElementById("id_58_4").checked) judgement = judgement + 3

      document.getElementById("id-judgement").value = judgement

      // ********* DISCIPLINE
      if (document.getElementById("id_56_3").checked) discipline = discipline + 2
      if (document.getElementById("id_56_4").checked) discipline = discipline + 5
      if (document.getElementById("id_56_5").checked) discipline = discipline + 4

      document.getElementById("id-discipline").value = discipline

      // ********* VERACITY
      if (document.getElementById("id_55_1").checked) veracity = veracity + 5
      if (document.getElementById("id_55_2").checked) veracity = veracity + 5
      if (document.getElementById("id_55_3").checked) veracity = veracity + 5
      if (document.getElementById("id_55_4").checked) veracity = veracity + 5

      document.getElementById("id-veracity").value = veracity

      // ********* LOYALTY

      document.getElementById("id-loyalty").value = loyalty

      // ********* INTENTIONALITY
      if (document.getElementById("id_55_4").checked) intentionality = intentionality + 5

      if (document.getElementById("id_58_1").checked) intentionality = intentionality + 3
      if (document.getElementById("id_58_2").checked) intentionality = intentionality + 1
      if (document.getElementById("id_58_3").checked) intentionality = intentionality + 5
      if (document.getElementById("id_58_4").checked) intentionality = intentionality + 3

      if (document.getElementById("id_60_2").checked) intentionality = intentionality + 3
      if (document.getElementById("id_60_3").checked) intentionality = intentionality + 1
      if (document.getElementById("id_60_4").checked) intentionality = intentionality + 2
      if (document.getElementById("id_60_6").checked) intentionality = intentionality + 5
      
      document.getElementById("id-intentionality").value = intentionality
      
      // ********* ETHIC

      document.getElementById("id-ethic").value = ethic

      // ********* RELIABILITY
      if (document.getElementById("id_57_1").checked) reliability = reliability + 3
      if (document.getElementById("id_57_3").checked) reliability = reliability + 3
      if (document.getElementById("id_57_5").checked) reliability = reliability + 5

      document.getElementById("id-reliability").value = reliability

    }


    // TIMER
    let miliseconds_integrity = parseInt('{{seconds_integrity}}', 10) * 1000
    window.setTimeout(function () {
      document.getElementById('form-id').submit();
    }, miliseconds_integrity);
    
  </script>
{% endblock %}