{% extends "base_test.html" %}
{% load i18n %}
{% block page_title %}<title>Integridad</title>{% endblock %}
{% block header_title %}Integridad{% endblock %}

{% block content %}
  <div class="test-main__inner" >
    <div style="text-align: center;">
      <p>4 de 20</p>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">19. Si encontraras una billetera con $1000 en el baño de un restaurante, ¿qué harías? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_19_1">
              <input type="radio" name="q_19" value="0" required="" id="id_19_1">
              Entregarla al cajero 
            </label>
          </li>
          <li>
            <label for="id_19_2">
              <input type="radio" name="q_19" value="1" required="" id="id_19_2">
              Quedármela
            </label>
          </li>
          <li>
            <label for="id_19_3">
              <input type="radio" name="q_19" value="1" required="" id="id_19_3">
              Devolvérsela a su dueño 
            </label>
          </li>
          <li>
            <label for="id_19_4">
              <input type="radio" name="q_19" value="1" required="" id="id_19_4">
              Dejarla donde la encontré 
            </label>
          </li>
          <li>
            <label for="id_19_5">
              <input type="radio" name="q_19" value="0" required="" id="id_19_5">
              Depende
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">20. Prefiero beber: </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_20_1">
              <input type="radio" name="q_20" value="0" required="" id="id_20_1">
              Whiskey
            </label>
          </li>
          <li>
            <label for="id_20_2">
              <input type="radio" name="q_20" value="1" required="" id="id_20_2">
              Cerveza
            </label>
          </li>
          <li>
            <label for="id_20_3">
              <input type="radio" name="q_20" value="1" required="" id="id_20_3">
              Ron
            </label>
          </li>
          <li>
            <label for="id_20_4">
              <input type="radio" name="q_20" value="1" required="" id="id_20_4">
              Vino de mesa 
            </label>
          </li>
          <li>
            <label for="id_20_5">
              <input type="radio" name="q_20" value="0" required="" id="id_20_5">
              Tequila
            </label>
          </li>
          <li>
            <label for="id_20_6">
              <input type="radio" name="q_20" value="1" required="" id="id_20_6">
              Licores
            </label>
          </li>
          <li>
            <label for="id_20_7">
              <input type="radio" name="q_20" value="1" required="" id="id_20_7">
              Cualquiera
            </label>
          </li>
          <li>
            <label for="id_20_8">
              <input type="radio" name="q_20" value="1" required="" id="id_20_8">
              No bebo 
            </label>
          </li>
          <li>
            <label for="id_20_9">
              <input type="radio" name="q_20" value="0" required="" id="id_20_9">
              No recuerdo 
            </label>
          </li>
          <li>
            <label for="id_20_10">
              <input type="radio" name="q_20" value="1" required="" id="id_20_10">
              Ya no bebo 
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">21. ¿Cuántas veces te llevaste de una tienda un producto sin pagar? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_21_1">
              <input type="radio" name="q_21" value="0" required="" id="id_21_1">
              Más de 1 vez 
            </label>
          </li>
          <li>
            <label for="id_21_2">
              <input type="radio" name="q_21" value="1" required="" id="id_21_2">
              Una vez 
            </label>
          </li>
          <li>
            <label for="id_21_3">
              <input type="radio" name="q_21" value="1" required="" id="id_21_3">
              No lo he hecho 
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">22. ¿Te gusta apostarle a tu compadre o comadre porque gane tu equipo de futbol o a ver quién prepara la comida más rica o simplemente quién tiene la razón? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_22_1">
              <input type="radio" name="q_22" value="0" required="" id="id_22_1">
              Sí
            </label>
          </li>
          <li>
            <label for="id_22_2">
              <input type="radio" name="q_22" value="1" required="" id="id_22_2">
              No
            </label>
          </li>
          <li>
            <label for="id_22_3">
              <input type="radio" name="q_22" value="1" required="" id="id_22_3">
              A veces
            </label>
          </li>
          <li>
            <label for="id_22_4">
              <input type="radio" name="q_22" value="1" required="" id="id_22_4">
              Depende
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">23. En general, ¿una persona a la que roban es culpable ya que no supo cuidar sus pertenencias o su dinero?</p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_23_1">
              <input type="radio" name="q_23" value="0" required="" id="id_23_1">
              Correcto
            </label>
          </li>
          <li>
            <label for="id_23_2">
              <input type="radio" name="q_23" value="1" required="" id="id_23_2">
              Incorrecto
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">24. ¿Aceptar soborno es más grave que ofrecerlo? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_24_1">
              <input type="radio" name="q_24" value="0" required="" id="id_24_1">
              Sí
            </label>
          </li>
          <li>
            <label for="id_24_2">
              <input type="radio" name="q_24" value="1" required="" id="id_24_2">
              No
            </label>
          </li>
          <li>
            <label for="id_24_3">
              <input type="radio" name="q_24" value="1" required="" id="id_24_3">
              No sé 
            </label>
          </li>
        </ul>
      </div>
    </div>
    <form id="form-id" onsubmit="calculateIntegrityForm()" method="post">
      {% csrf_token %}
      <div class="form-buttons">
        <input type="hidden" name="integrity_object_id" value="{{integrity_object_id}}"/>

        <input id="id-adictions" type="hidden" name="adictions" value="0" />
        <input id="id-judgement" type="hidden" name="judgement" value="0" />
        <input id="id-discipline" type="hidden" name="discipline" value="0" />
        <input id="id-veracity" type="hidden" name="veracity" value="0" />
        <input id="id-loyalty" type="hidden" name="loyalty" value="0" />
        <input id="id-intentionality" type="hidden" name="intentionality" value="0" />
        <input id="id-ethic" type="hidden" name="ethic" value="0" />
        <input id="id-reliability" type="hidden" name="reliability" value="0" />

        <input type="hidden" name="step" value="4"/>
        <input type="submit" class="btn btn-primary" value="{% trans 'Enviar' %}"/>
      </div>
    </form>
  </div>
  <script>
    // Update the values in the form according to the selected answers
    function calculateIntegrityForm(){
      let adictions = 0
      let judgement = 0
      let discipline = 0
      let veracity = 0
      let loyalty = 0
      let intentionality = 0
      let ethic = 0
      let reliability = 0

      // ********* ADICTIONS
      if (document.getElementById("id_20_1").checked) adictions = adictions + 1
      if (document.getElementById("id_20_2").checked) adictions = adictions + 1
      if (document.getElementById("id_20_3").checked) adictions = adictions + 1
      if (document.getElementById("id_20_4").checked) adictions = adictions + 1
      if (document.getElementById("id_20_5").checked) adictions = adictions + 1
      if (document.getElementById("id_20_6").checked) adictions = adictions + 1
      if (document.getElementById("id_20_7").checked) adictions = adictions + 1
      if (document.getElementById("id_20_10").checked) adictions = adictions + 3
      
      document.getElementById("id-adictions").value = adictions

      // ********* JUDGEMENT
      if (document.getElementById("id_23_2").checked) judgement = judgement + 5

      document.getElementById("id-judgement").value = judgement

      // ********* DISCIPLINE

      document.getElementById("id-discipline").value = discipline

      // ********* VERACITY

      document.getElementById("id-veracity").value = veracity

      // ********* LOYALTY

      document.getElementById("id-loyalty").value = loyalty

      // ********* INTENTIONALITY
      if (document.getElementById("id_19_1").checked) intentionality = intentionality + 3
      if (document.getElementById("id_19_3").checked) intentionality = intentionality + 5
      if (document.getElementById("id_19_4").checked) intentionality = intentionality + 3

      if (document.getElementById("id_21_2").checked) intentionality = intentionality + 1
      if (document.getElementById("id_21_3").checked) intentionality = intentionality + 5

      if (document.getElementById("id_24_3").checked) intentionality = intentionality + 5

      
      document.getElementById("id-intentionality").value = intentionality
      
      // ********* ETHIC

      document.getElementById("id-ethic").value = ethic

      // ********* RELIABILITY
      if (document.getElementById("id_22_1").checked) reliability = reliability + 1
      if (document.getElementById("id_22_2").checked) reliability = reliability + 5
      if (document.getElementById("id_22_3").checked) reliability = reliability + 3
      if (document.getElementById("id_22_4").checked) reliability = reliability + 2

      document.getElementById("id-reliability").value = reliability

    }

    // TIMER
    let miliseconds_integrity = parseInt('{{seconds_integrity}}', 10) * 1000
    window.setTimeout(function () {
      document.getElementById('form-id').submit();
    }, miliseconds_integrity);
    
  </script>
{% endblock %}