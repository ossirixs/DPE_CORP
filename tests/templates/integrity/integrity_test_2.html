{% extends "base_test.html" %}
{% load i18n %}
{% block page_title %}<title>Integridad</title>{% endblock %}
{% block header_title %}Integridad{% endblock %}

{% block content %}
  <div class="test-main__inner" >
    <div style="text-align: center;">
      <p>2 de 20</p>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">7. Las normas y disciplina en el trabajo, como el uso de gafete o el llenado del reporte diario o la puntualidad son: </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_7_1">
              <input type="radio" name="q_7" value="0" required="" id="id_7_1">
              Un mal necesario
            </label>
          </li>
          <li>
            <label for="id_7_2">
              <input type="radio" name="q_7" value="1" required="" id="id_7_2">
              Propias de la época de las cavernas
            </label>
          </li>
          <li>
            <label for="id_7_3">
              <input type="radio" name="q_7" value="1" required="" id="id_7_3">
              Guías para mantener el orden 
            </label>
          </li>
          <li>
            <label for="id_7_4">
              <input type="radio" name="q_7" value="1" required="" id="id_7_4">
              Medios para tener controlados a los empleados 
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">8. Hay lugares en los que sin soborno no se puede arreglar nada: </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_8_1">
              <input type="radio" name="q_8" value="0" required="" id="id_8_1">
              Correcto
            </label>
          </li>
          <li>
            <label for="id_8_2">
              <input type="radio" name="q_8" value="1" required="" id="id_8_2">
              Incorrecto
            </label>
          </li>
          <li>
            <label for="id_8_3">
              <input type="radio" name="q_8" value="1" required="" id="id_8_3">
              No sé
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">9. Cuando un compañero se brinca una norma o procedimiento de trabajo, ¿qué haces? </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_9_1">
              <input type="radio" name="q_9" value="0" required="" id="id_9_1">
              Te ríes con él 
            </label>
          </li>
          <li>
            <label for="id_9_2">
              <input type="radio" name="q_9" value="1" required="" id="id_9_2">
              Le dices que no lo vuelva a hacer 
            </label>
          </li>
          <li>
            <label for="id_9_3">
              <input type="radio" name="q_9" value="1" required="" id="id_9_3">
              Le dices que es incorrecto 
            </label>
          </li>
          <li>
            <label for="id_9_4">
              <input type="radio" name="q_9" value="1" required="" id="id_9_4">
              No le dices nada 
            </label>
          </li>
          <li>
            <label for="id_9_5">
              <input type="radio" name="q_9" value="1" required="" id="id_9_5">
              Se lo comentas a tu supervisor 
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">10. Uno roba y no lo cachan, ¿eso lleva a robar otra vez?</p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_10_1">
              <input type="radio" name="q_10" value="0" required="" id="id_10_1">
              Siempre correcto 
            </label>
          </li>
          <li>
            <label for="id_10_2">
              <input type="radio" name="q_10" value="1" required="" id="id_10_2">
              Generalmente correcto 
            </label>
          </li>
          <li>
            <label for="id_10_3">
              <input type="radio" name="q_10" value="1" required="" id="id_10_3">
              A veces correcto 
            </label>
          </li>
          <li>
            <label for="id_10_4">
              <input type="radio" name="q_10" value="1" required="" id="id_10_4">
              Incorrecto
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">11. Llevarse una engrapadora o una cajita de lápices o algún marcador del trabajo puede considerarse:</p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_11_1">
              <input type="radio" name="q_11" value="0" required="" id="id_11_1">
              Común
            </label>
          </li>
          <li>
            <label for="id_11_2">
              <input type="radio" name="q_11" value="1" required="" id="id_11_2">
              Normal
            </label>
          </li>
          <li>
            <label for="id_11_3">
              <input type="radio" name="q_11" value="1" required="" id="id_11_3">
              Compensación
            </label>
          </li>
          <li>
            <label for="id_11_4">
              <input type="radio" name="q_11" value="1" required="" id="id_11_4">
              Merma
            </label>
          </li>
          <li>
            <label for="id_11_5">
              <input type="radio" name="q_11" value="1" required="" id="id_11_5">
              Robo
            </label>
          </li>
        </ul>
      </div>
    </div>
    <div class="question-block">
      <div>
        <p class="q-first">12. Hacer una o dos llamadas personales de larga distancia desde el teléfono de la oficina es: </p>
      </div>
      <div>
        <ul>
          <li>
            <label for="id_12_1">
              <input type="radio" name="q_12" value="0" required="" id="id_12_1">
              Habitual
            </label>
          </li>
          <li>
            <label for="id_12_2">
              <input type="radio" name="q_12" value="1" required="" id="id_12_2">
              Incorrecto
            </label>
          </li>
          <li>
            <label for="id_12_3">
              <input type="radio" name="q_12" value="1" required="" id="id_12_3">
              Sancionable
            </label>
          </li>
          <li>
            <label for="id_12_4">
              <input type="radio" name="q_12" value="1" required="" id="id_12_4">
              Común
            </label>
          </li>
          <li>
            <label for="id_12_5">
              <input type="radio" name="q_12" value="1" required="" id="id_12_5">
              Correcto
            </label>
          </li>
        </ul>
      </div>
    </div>
    <form id="form-id" onsubmit="calculateIntegrityForm()" method="post">
      {% csrf_token %}
      <div class="form-buttons">
        <input type="hidden" name="integrity_object_id" value="{{integrity_object_id}}"/>

        <input id="id-adictions" type="hidden" name="adictions" value="0" />
        <input id="id-judgement" type="hidden" name="judgement" value="0" />
        <input id="id-discipline" type="hidden" name="discipline" value="0" />
        <input id="id-veracity" type="hidden" name="veracity" value="0" />
        <input id="id-loyalty" type="hidden" name="loyalty" value="0" />
        <input id="id-intentionality" type="hidden" name="intentionality" value="0" />
        <input id="id-ethic" type="hidden" name="ethic" value="0" />
        <input id="id-reliability" type="hidden" name="reliability" value="0" />

        <input type="hidden" name="step" value="2"/>
        <input type="submit" class="btn btn-primary" value="{% trans 'Enviar' %}"/>
      </div>
    </form>
  </div>
  <script>
    // Update the values in the form according to the selected answers
    function calculateIntegrityForm(){
      let adictions = 0
      let judgement = 0
      let discipline = 0
      let veracity = 0
      let loyalty = 0
      let intentionality = 0
      let ethic = 0
      let reliability = 0

      // ********* ADICTIONS
      
      document.getElementById("id-adictions").value = adictions

      // ********* JUDGEMENT

      document.getElementById("id-judgement").value = judgement

      // ********* DISCIPLINE
      if (document.getElementById("id_7_1").checked) discipline = discipline + 2
      if (document.getElementById("id_7_2").checked) discipline = discipline + 1
      if (document.getElementById("id_7_3").checked) discipline = discipline + 5
      if (document.getElementById("id_7_4").checked) discipline = discipline + 3

      document.getElementById("id-discipline").value = discipline

      // ********* VERACITY

      document.getElementById("id-veracity").value = veracity

      // ********* LOYALTY

      document.getElementById("id-loyalty").value = loyalty

      // ********* INTENTIONALITY
      if (document.getElementById("id_8_1").checked) intentionality = intentionality + 1
      if (document.getElementById("id_8_2").checked) intentionality = intentionality + 3
      if (document.getElementById("id_8_3").checked) intentionality = intentionality + 2

      if (document.getElementById("id_10_1").checked) intentionality = intentionality + 2
      if (document.getElementById("id_10_2").checked) intentionality = intentionality + 4
      if (document.getElementById("id_10_3").checked) intentionality = intentionality + 3
      if (document.getElementById("id_10_4").checked) intentionality = intentionality + 1

      if (document.getElementById("id_11_4").checked) intentionality = intentionality + 1
      if (document.getElementById("id_11_5").checked) intentionality = intentionality + 4
      
      document.getElementById("id-intentionality").value = intentionality
      
      // ********* ETHIC
      if (document.getElementById("id_9_1").checked) ethic = ethic + 1
      if (document.getElementById("id_9_2").checked) ethic = ethic + 4
      if (document.getElementById("id_9_3").checked) ethic = ethic + 5
      if (document.getElementById("id_9_4").checked) ethic = ethic + 1
      if (document.getElementById("id_9_5").checked) ethic = ethic + 3

      if (document.getElementById("id_12_1").checked) ethic = ethic + 1
      if (document.getElementById("id_12_2").checked) ethic = ethic + 5
      if (document.getElementById("id_12_3").checked) ethic = ethic + 4
      if (document.getElementById("id_12_4").checked) ethic = ethic + 1

      document.getElementById("id-ethic").value = ethic

      // ********* RELIABILITY

      document.getElementById("id-reliability").value = reliability

    }

    // TIMER
    let miliseconds_integrity = parseInt('{{seconds_integrity}}', 10) * 1000
    window.setTimeout(function () {
      document.getElementById('form-id').submit();
    }, miliseconds_integrity);

  </script>
{% endblock %}