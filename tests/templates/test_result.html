<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AGSGS</title>
    {% block content_title %}{% endblock %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/main.css' %}" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" crossorigin="anonymous" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
    <meta charset="UTF-8">
</head>
<style>
.body {
    font-family: Helvetica, sans-serif;
}

.h1 {
    font-family: Helvetica, sans-serif;
}

.div-t {
    display: table;
    width: 100%;
}

.div-50 {
    width: 50%;
    display: inline-block;
    vertical-align: top;
}

.div-70 {
    width: 60%;
    display: inline-block;
    vertical-align: top;
}

.div-30 {
    width: 30%;
    display: inline-block;
    vertical-align: top;
}

.section {
    width: 90%;
    margin-left: auto;
    margin-right: auto;
}

.box {
    padding: 25px;
}

table, td, th {
  border: 1px solid #ddd;
  text-align: left;
}

table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  padding: 10px;
}

.space {
    padding-top: 25px;
}


</style>

<body>
    <div class="div-t">
        <div class="div-50">
            <div class="section">
                <div class="box">
                    <h1>{{ cuestionario.nombre }}</h1>
                </div>
                <div style="padding: 25px; max-height: 80vh; overflow: auto ">
                    <canvas id="myChart" width="400" height="400"></canvas>
                </div>
            </div>
        </div>

        <div class="div-50">
            <div class="section">
                <div class="box">
                    <div>
                        <h1>RESULTADOS CIE</h1>
                    </div>
                    <div>
                        <form method="POST" target="_blank">
                            {% csrf_token %}
                            <button name="export_button"  style="position: relative">Descargar Reporte</button>
                        </form>
                    </div>
                </div>
                    <div style="max-height: 80vh; overflow: auto ;padding: 1px 25px;">
                    <table>
                        <tr>
                            <th>ESCALA</th>
                            <th>SCORE</th>
                            <th>RESULTADO</th>
                        </tr>
                        <tr>
                            <td>EST</td>
                            <td>{{ EST.score }}</td>
                            <td>{{ EST.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ EST.description }}</td>
                        </tr>
                        <tr>
                            <td>ANS</td>
                            <td>{{ ANS.score }}</td>
                            <td>{{ ANS.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ ANS.description }}</td>
                        </tr>
                        <tr>
                            <td>AUC</td>
                            <td>{{ AUC.score }}</td>
                            <td>{{ AUC.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ AUC.description }}</td>
                        </tr>
                        <tr>
                            <td>EFI</td>
                            <td>{{ EFI.score }}</td>
                            <td>{{ EFI.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ EFI.description }}</td>
                        </tr>
                        <tr>
                            <td>SEG</td>
                            <td>{{ SEG.score }}</td>
                            <td>{{ SEG.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ SEG.description }}</td>
                        </tr>
                        <tr>
                            <td>IND</td>
                            <td>{{ IND.score }}</td>
                            <td>{{ IND.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ IND.description }}</td>
                        </tr>
                        <tr>
                            <td>DOM</td>
                            <td>{{ DOM.score }}</td>
                            <td>{{ DOM.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ DOM.description }}</td>
                        </tr>
                        <tr>
                            <td>COG</td>
                            <td>{{ COG.score }}</td>
                            <td>{{ COG.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ COG.description }}</td>
                        </tr>
                        <tr>
                            <td>SOC</td>
                            <td>{{ SOC.score }}</td>
                            <td>{{ SOC.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ SOC.description }}</td>
                        </tr>
                        <tr>
                            <td>AJS</td>
                            <td>{{ AJS.score }}</td>
                            <td>{{ AJS.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ AJS.description }}</td>
                        </tr>
                        <tr>
                            <td>AGR</td>
                            <td>{{ AGR.score }}</td>
                            <td>{{ AGR.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ AGR.description }}</td>
                        </tr>
                        <tr>
                            <td>TOL</td>
                            <td>{{ TOL.score }}</td>
                            <td>{{ TOL.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ TOL.description }}</td>
                        </tr>
                        <tr>
                            <td>HAB</td>
                            <td>{{ HAB.score }}</td>
                            <td>{{ HAB.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ HAB.description }}</td>
                        </tr>
                        <tr>
                            <td>DISC</td>
                            <td>{{ DISC.score }}</td>
                            <td>{{ DISC.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ DISC.description }}</td>
                        </tr>
                        <tr>
                            <td>LID</td>
                            <td>{{ LID.score }}</td>
                            <td>{{ LID.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ LID.description }}</td>
                        </tr>
                        <tr>
                            <td>VER</td>
                            <td>{{ VER.score }}</td>
                            <td>{{ VER.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ VER.description }}</td>
                        </tr>
                        <tr>
                            <td>IMG</td>
                            <td>{{ IMG.score }}</td>
                            <td>{{ IMG.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ IMG.description }}</td>
                        </tr>
                        <tr>
                            <td>CONG</td>
                            <td>{{ CONG.score }}</td>
                            <td>{{ CONG.result }}</td>
                        </tr>
                        <tr>
                            <th colspan="3">DESCRIPCION</th>
                        </tr>
                        <tr>
                            <td colspan="3">{{ CONG.description }}</td>
                        </tr>
                    </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="space"></div>
</body>
</html>

<script type="text/javascript">

var ctx = document.getElementById('myChart').getContext('2d');

var myChart = new Chart(ctx, {
    plugins: [{
        beforeInit: function(myChart, options) {
          myChart.legend.afterFit = function() {
            this.height = this.height + 50;
          };
        }
      }],
    type: 'polarArea',
    data: {
        labels: ['EST', 'ANS', 'AUC', 'EFI', 'SEG', 'IND', 'DOM', 'COG', 'SOC', 'AJS', 'AGR', 'TOL', 'HAB', 'DISC',
                    'LID', 'VER', 'IMG', 'CONG'],
        datasets: [{
            label: '# of Votes',
            data: [{{ EST.score }}, {{ ANS.score }}, {{ AUC.score }}, {{ EFI.score }}, {{ SEG.score }}, {{ IND.score}},
                    {{ DOM.score }}, {{ COG.score }}, {{ SOC.score }}, {{ AJS.score }},{{ AGR.score }}, {{ TOL.score }},
                    {{ HAB.score }}, {{ DISC.score }}, {{ LID.score }}, {{ VER.score }}, {{ IMG.score }}, {{ CONG.score }}],
            backgroundColor: [
                'rgba(18, 118, 161, 0.7)',
                'rgba(205, 92, 92, 0.7)',
                'rgba(205, 92, 62, 0.7)',
                'rgba(45, 145, 62, 0.7)',
                'rgba(36, 23, 62, 0.7)',
                'rgba(124, 36, 62, 0.7)',
                'rgba(45, 86, 23, 0.7)',
                'rgba(15, 144, 23, 0.7)',
                'rgba(123, 145, 43, 0.7)',
                'rgba(53, 234, 12, 0.7)',
                'rgba(76, 16, 233, 0.7)',
                'rgba(63, 136, 73, 0.7)',
                'rgba(34, 87, 176, 0.7)',
                'rgba(45, 163, 12, 0.7)',
                'rgba(73, 13, 62, 0.7)',
                'rgba(36, 142, 123, 0.7)',
                'rgba(216, 145, 24, 0.7)',
                'rgba(123, 145, 122, 0.7)',
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});


</script>