{% extends "common/base.html" %}

{% block content_title %}
    <title>DPE - Detalle Empresa</title>
{% endblock%}

{% block content_subtitle %}
    <div class="app-page-title">
        <div class="page-title-wrapper">
            <div class="page-title-heading">
                <div class="page-title-icon">
                    <i class="fas fa-building icon-gradient bg-night-fade">
                    </i>
                </div>
                <div>
                    {{ company_name }}
                    <div class="page-title-subheading">
                        Administracion de Pruebas Psicometricas.
                    </div>
                </div>
            </div>   
        </div>
    </div> 
{% endblock%}

{% block content_container %}
<div class="row">


    <div class="col-md-12 col-lg-12">
        <div class="main-card mb-3 card">
            <div class="card-header-tab card-header">
                <div class="btn-actions-pane-left">
                    <div class="nav">
                        <a id="test" href="javascript:void(0);" class="border-0 btn-pill btn-wide btn-transition active btn btn-outline-alternate" onclick="toogleForm(this)">Pruebas</a>
                        <a id="link" href="javascript:void(0);" class="border-0 btn-pill btn-wide btn-transition btn btn-outline-alternate" onclick="toogleForm(this)">Links</a>
                        <a id="modify" href="javascript:void(0);" class="ml-1 btn-pill btn-wide border-0 btn-transition  btn btn-outline-alternate second-tab-toggle-alt" onclick="toogleForm(this)">Modificar</a>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <div id="assigned-form-id">
                    <h5 class="card-title">Pruebas Asignadas:</h5>
                    <form method="POST"  class="">
                        {% csrf_token %}
                        <div class="form-row">
                            <div class="col-md-4">
                                <div class="position-relative form-check"><label class="form-check-label"><input type="checkbox" class="form-check-input" checked> CIE</label></div> 
                                <div class="position-relative form-check"><label class="form-check-label"><input type="checkbox" class="form-check-input"> MAX</label></div> 
                                <div class="position-relative form-check"><label class="form-check-label"><input type="checkbox" class="form-check-input"> Prueba test 1</label></div> 
                            </div>
                        </div>
                        <br>
                        <button class="mt-2 btn btn-primary">Asignar</button>
                    </form>
                </div>
                <div id="general-data-id" class="d-none">
                    <h5 class="card-title">Datos generales:</h5>
                    <form method="POST"  >
                        {% csrf_token %}
                        <div class="form-row">
                            <div class="col-md-3">
                                    <div class="position-relative form-group">
                                        <label for="username-id" class="">Nombre de usuario</label><input name="username" id="username-id" type="text" class="form-control" value="{{username}}">
                                    </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-md-4">
                                    <div class="position-relative form-group">
                                        <label for="name-id" class="">Direccion</label><input name="name" id="name-id" type="text" class="form-control" value="{{name}}">
                                    </div>
                            </div>
                        </div>
                        <h5 class="card-title">Contacto:</h5>
                        <div class="form-row">
                            <div class="col-md-4">
                                    <div class="position-relative form-group">
                                        <label for="name-id" class="">Telefono</label><input name="name" id="name-id" type="text" class="form-control" value="{{name}}">
                                    </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-md-4">
                                    <div class="position-relative form-group">
                                        <label for="name-id" class="">Direccion</label><input name="name" id="name-id" type="text" class="form-control" value="{{name}}">
                                    </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="col-md-6">
                                <div class="position-relative form-group">
                                    <label for="email-id" class="">Email</label><input name="email" id="email-id" placeholder="" type="email" class="form-control" value="{{email}}">
                                </div>
                            </div>
                        </div>
                        <input type="hidden" name="update_user" value="True">
                        <button class="mt-2 btn btn-primary">Actualizar</button>
                    </form>
                </div>
                <div id="link-id" class="d-none">
                    <h5 class="card-title">Links asignados:</h5>
                    <table class="mb-0 table">
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>Prueba</th>
                            <th>Expiracion</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <th scope="row">1</th>
                            <td>CIE</td>
                            <td>12/12/2020</td>
                            <td>activo</td>
                        </tr>
                        <tr>
                            <th scope="row">2</th>
                            <td>prueba1</td>
                            <td>10/08/2020</td>
                            <td>inactivo</td>
                        </tr>
                        <tr>
                            <th scope="row">3</th>
                            <td>prueba2</td>
                            <td>04/06/2021</td>
                            <td>inactivo</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function toogleForm(btn){
        if(btn.id =='test'){
            link_div = document.getElementById('link-id');
            link_div.classList.add('d-none')
            mod_div = document.getElementById('general-data-id');
            mod_div.classList.add('d-none')
            test_div = document.getElementById('assigned-form-id');
            test_div.classList.remove('d-none')
        }else if(btn.id == 'modify'){
            link_div = document.getElementById('link-id');
            link_div.classList.add('d-none')
            mod_div = document.getElementById('general-data-id');
            mod_div.classList.remove('d-none')
            test_div = document.getElementById('assigned-form-id');
            test_div.classList.add('d-none')
        }else if(btn.id == 'link'){
            link_div = document.getElementById('link-id');
            link_div.classList.remove('d-none')
            mod_div = document.getElementById('general-data-id');
            mod_div.classList.add('d-none')
            test_div = document.getElementById('assigned-form-id');
            test_div.classList.add('d-none')
        }
    }
    console.log('company detail')
</script>
{% endblock%}
